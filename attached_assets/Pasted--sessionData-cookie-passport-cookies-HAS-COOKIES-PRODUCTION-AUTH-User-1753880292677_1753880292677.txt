  sessionData: [ 'cookie', 'passport' ],

  cookies: 'HAS_COOKIES'

}

✅ PRODUCTION AUTH: User authenticated, proceeding

🚚 Deliveries API called with: {

  startDate: '2025-07-01',

  endDate: '2025-07-31',

  storeId: '2',

  withBL: undefined,

  userRole: 'admin'

}

🚚 Admin filtering deliveries with groupIds: [ 2 ]

🚚 Fetching deliveries by date range: 2025-07-01 to 2025-07-31

📦 Orders API called with: {

  startDate: '2025-07-01',

  endDate: '2025-07-31',

  storeId: '2',

  storeIdType: 'string',

  userRole: 'admin',

  fullQuery: { startDate: '2025-07-01', endDate: '2025-07-31', storeId: '2' }

}

📦 Admin filtering with groupIds: [ 2 ] from storeId: 2

📦 Fetching orders by date range: 2025-07-01 to 2025-07-31

🚛 getDeliveriesByDateRange debug: {

  startDate: '2025-07-01',

  endDate: '2025-07-31',

  groupIds: [ 2 ],

  deliveryCount: 10

}

🚚 Deliveries returned: 10 items

📅 getOrdersByDateRange debug: {

  startDate: '2025-07-01',

  endDate: '2025-07-31',

  groupIds: [ 2 ],

  orderCount: 10

}

📦 Orders returned: 10 items

12:57:53 PM [express] GET /api/deliveries 304 in 75ms

12:57:53 PM [express] GET /api/orders 304 in 86ms

🔍 PRODUCTION AUTH DEBUG: {

  url: '/api/deliveries?startDate=2025-07-01&endDate=2025-07-31&storeId=2',

  method: 'GET',

  isAuthenticated: true,

  hasUser: true,

  userId: 'admin_local',

  username: 'admin',

  sessionId: 'U2AvQuQue4fcZWWwsQHjb-D-CDVMQ2xG',

  hasSession: true,

  sessionData: [ 'cookie', 'passport' ],

  cookies: 'HAS_COOKIES'

}

✅ PRODUCTION AUTH: User authenticated, proceeding

🔍 PRODUCTION AUTH DEBUG: {

  url: '/api/orders?startDate=2025-07-01&endDate=2025-07-31&storeId=2',

  method: 'GET',

  isAuthenticated: true,

  hasUser: true,

  userId: 'admin_local',

  username: 'admin',

  sessionId: 'U2AvQuQue4fcZWWwsQHjb-D-CDVMQ2xG',

  hasSession: true,

  sessionData: [ 'cookie', 'passport' ],

  cookies: 'HAS_COOKIES'

}

✅ PRODUCTION AUTH: User authenticated, proceeding

🚚 Deliveries API called with: {

  startDate: '2025-07-01',

  endDate: '2025-07-31',

  storeId: '2',

  withBL: undefined,

  userRole: 'admin'

}

🚚 Admin filtering deliveries with groupIds: [ 2 ]

🚚 Fetching deliveries by date range: 2025-07-01 to 2025-07-31

📦 Orders API called with: {

  startDate: '2025-07-01',

  endDate: '2025-07-31',

  storeId: '2',

  storeIdType: 'string',

  userRole: 'admin',

  fullQuery: { startDate: '2025-07-01', endDate: '2025-07-31', storeId: '2' }

}

📦 Admin filtering with groupIds: [ 2 ] from storeId: 2

📦 Fetching orders by date range: 2025-07-01 to 2025-07-31

🚛 getDeliveriesByDateRange debug: {

  startDate: '2025-07-01',

  endDate: '2025-07-31',

  groupIds: [ 2 ],

  deliveryCount: 10

}

🚚 Deliveries returned: 10 items

12:57:54 PM [express] GET /api/deliveries 304 in 34ms

📅 getOrdersByDateRange debug: {

  startDate: '2025-07-01',

  endDate: '2025-07-31',

  groupIds: [ 2 ],

  orderCount: 10

}

📦 Orders returned: 10 items

12:57:54 PM [express] GET /api/orders 304 in 29ms

